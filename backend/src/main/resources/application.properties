server.address=0.0.0.0
server.port=8080

spring.config.import=optional:file:.env[.properties],optional:file:../.env[.properties]

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USER}
spring.datasource.password=${DB_PASSWORD}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.open-in-view=false
db.migration.oid-to-text.enabled=true

engine.tick-ms=5000
engine.order-cooldown-seconds=30
engine.failure-backoff-base-seconds=5
engine.failure-backoff-max-seconds=300
engine.max-markets-per-tick=0

trading.markets=KRW-BTC
trading.market-max-order-krw=
trading.market-profile=
trading.min-krw=5000
trading.fee-rate=0.0005
trading.slippage-pct=0.001

strategy.force-profile=CONSERVATIVE

signal.timeframe-unit=1
signal.use-closed-candle=true
signal.ma-short=20
signal.ma-long=100
signal.rsi-period=14
signal.rsi-buy-threshold=55
signal.rsi-sell-threshold=45
signal.rsi-overbought=70
signal.macd-fast=12
signal.macd-slow=26
signal.macd-signal=9
signal.adx-period=14
signal.min-adx=18
signal.volume-lookback=20
signal.min-volume-ratio=0.8
signal.breakout-lookback=20
signal.breakout-pct=0.3
signal.max-extension-pct=1.2
signal.ma-long-slope-lookback=5
signal.min-confirmations=2
signal.relative-momentum.enabled=true
signal.relative-momentum.timeframe-unit=15
signal.relative-momentum.short-lookback=24
signal.relative-momentum.long-lookback=96
signal.relative-momentum.top-n=3
signal.relative-momentum.min-score-pct=0.0

regime.filter.enabled=true
regime.filter.market=KRW-BTC
regime.filter.timeframe-unit=15
regime.filter.ma-short=40
regime.filter.ma-long=120
regime.filter.ma-long-slope-lookback=5
regime.filter.min-ma-long-slope-pct=0.0
regime.filter.volatility-window=48
regime.filter.max-volatility-pct=1.2

risk.trailing-window=20
risk.partial-take-profit-cooldown-minutes=120
risk.stop-loss-cooldown-minutes=30
risk.reentry-cooldown-minutes=15
risk.stop-loss-guard-lookback-minutes=180
risk.stop-loss-guard-trigger-count=3
risk.stop-loss-guard-lock-minutes=180
risk.volatility-window=30
risk.target-vol-pct=0.5

upbit.rate-limit.enabled=true
upbit.rate-limit.min-interval-ms=120
upbit.rate-limit.max-requests-per-second=8
upbit.rate-limit.max-requests-per-minute=240

orders.reconcile.enabled=true
orders.reconcile.delay-ms=10000
orders.reconcile.lookback-minutes=60
orders.reconcile.stale-minutes=180
orders.pending-window-minutes=30
orders.chance-cache-minutes=5
