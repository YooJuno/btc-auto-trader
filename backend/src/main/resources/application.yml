spring:
  application:
    name: btc-auto-trader
  datasource:
    url: ${DB_URL:jdbc:postgresql://localhost:5432/btctrader}
    username: ${DB_USER:btctrader}
    password: ${DB_PASSWORD:btctrader}
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
  jackson:
    serialization:
      write-dates-as-timestamps: false

server:
  port: ${PORT:8080}
  forward-headers-strategy: framework

app:
  jwt:
    issuer: btc-auto-trader
    secret: ${JWT_SECRET:dev-only-change-me}
    ttlMinutes: 120
  crypto:
    key: ${APP_ENC_KEY:}
  upbit:
    baseUrl: ${UPBIT_BASE_URL:https://api.upbit.com}
    wsUrl: ${UPBIT_WS_URL:wss://api.upbit.com/websocket/v1}
    marketPrefix: ${UPBIT_MARKET_PREFIX:KRW-}
    candleUnit: ${UPBIT_CANDLE_UNIT:1}
    candleCount: ${UPBIT_CANDLE_COUNT:120}
    tickerChunkSize: ${UPBIT_TICKER_CHUNK:100}
    wsEnabled: ${UPBIT_WS_ENABLED:false}
    wsTopN: ${UPBIT_WS_TOPN:30}
    wsRefreshMs: ${UPBIT_WS_REFRESH_MS:300000}
    wsMaxAgeSec: ${UPBIT_WS_MAX_AGE_SEC:30}
    streamIntervalMs: ${UPBIT_STREAM_INTERVAL_MS:5000}
    recommendationCacheMs: ${UPBIT_RECOMMENDATION_CACHE_MS:15000}
  engine:
    enabled: ${ENGINE_ENABLED:false}
    intervalMs: ${ENGINE_INTERVAL_MS:60000}
  paper:
    initialCash: ${PAPER_INITIAL_CASH:1000000}

logging:
  level:
    org.hibernate.SQL: warn
